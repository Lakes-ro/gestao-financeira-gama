<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Gestor Financeiro Pro</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
<div class="container">

<!-- ===== LOGIN ADMIN ===== -->
<div id="loginAdminScreen" class="screen screen--centered active">
    <div class="login-box">
        <h1 class="login-box__title">ğŸ’° Gestor Financeiro</h1>
        <p class="login-box__subtitle">Acesso de Administrador</p>
        <form id="adminLoginForm">
            <div class="form-group"><label>Email:</label><input type="email" id="adminEmail" placeholder="seu@email.com" required></div>
            <div class="form-group"><label>Senha:</label><input type="password" id="adminPassword" placeholder="Digite sua senha" required></div>
            <button type="submit" class="btn btn--primary">Entrar</button>
        </form>
        <p class="login-box__toggle-text">NÃ£o tem conta? <a href="#" onclick="uiService.showScreen('registerAdminScreen')">Criar conta</a></p>
        <div id="adminLoginError" class="message message--error"></div>
    </div>
</div>

<!-- ===== REGISTRO ADMIN ===== -->
<div id="registerAdminScreen" class="screen screen--centered">
    <div class="login-box">
        <h1 class="login-box__title">Criar Conta</h1>
        <p class="login-box__subtitle">Gerencie seus clientes</p>
        <form id="adminRegisterForm">
            <div class="form-group"><label>Nome Completo:</label><input type="text" id="adminName" placeholder="Seu nome" required></div>
            <div class="form-group"><label>Email:</label><input type="email" id="adminRegEmail" placeholder="seu@email.com" required></div>
            <div class="form-group"><label>Senha:</label><input type="password" id="adminRegPassword" placeholder="MÃ­nimo 6 caracteres" required></div>
            <button type="submit" class="btn btn--primary">Criar Conta</button>
        </form>
        <p class="login-box__toggle-text">JÃ¡ tem conta? <a href="#" onclick="uiService.showScreen('loginAdminScreen')">Fazer login</a></p>
        <div id="adminRegisterError" class="message message--error"></div>
    </div>
</div>

<!-- ===== PAINEL ADMIN ===== -->
<div id="adminScreen" class="screen">
    <header class="admin-header">
        <h1>ğŸ‘¨â€ğŸ’¼ Painel do Administrador</h1>
        <button onclick="logoutAdmin()" class="btn btn--logout">Sair</button>
    </header>
    <main class="admin-container">
        
        <!-- SEÃ‡ÃƒO CLIENTES -->
        <section class="admin-section">
            <div class="section-header">
                <h2>ğŸ“‹ Meus Clientes</h2>
                <div style="display: flex; gap: 15px; align-items: center;">
                    <label style="display: flex; align-items: center; gap: 8px; color: #a0a0b0; cursor: pointer; font-size: 14px;">
                        <input type="checkbox" id="hideClientNames" onchange="toggleClientNamesVisibility()" style="cursor: pointer; width: 18px; height: 18px;">
                        <span>Ocultar nomes</span>
                    </label>
                    <button onclick="uiService.toggle('addClientForm')" class="btn btn--secondary">+ Adicionar Cliente</button>
                </div>
            </div>

<!-- MODAL EDITAR CLIENTE -->
<div id="editClientModal" class="modal hidden">
    <div class="modal__content">
        <header class="modal__header">
            <h2>Editar Cliente</h2>
            <button onclick="uiService.closeModal('editClientModal')" class="modal__close-btn">âœ•</button>
        </header>
        <div class="modal__body">
            <form id="editClientForm">
                <div class="form-group">
                    <label>Nome:</label>
                    <input type="text" id="editClientNameInput" required>
                </div>
                <div class="form-group">
                    <label>Email:</label>
                    <input type="email" id="editClientEmailInput">
                </div>
                <button type="submit" class="btn btn--primary">Salvar AlteraÃ§Ãµes</button>
            </form>
            <div id="editClientError" class="message message--error"></div>
            <div id="editClientSuccess" class="message message--success"></div>
        </div>
    </div>
</div>

<!-- MODAL EDITAR STATUS PLANEJAMENTO -->
<div id="editPlanningStatusModal" class="modal hidden">
    <div class="modal__content">
        <header class="modal__header">
            <h2>Atualizar Status do Planejamento</h2>
            <button onclick="uiService.closeModal('editPlanningStatusModal')" class="modal__close-btn">âœ•</button>
        </header>
        <div class="modal__body">
            <div style="background: rgba(100, 150, 255, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                <h4 id="editPlanningTitle" style="color: #fff; margin-top: 0;"></h4>
                <p id="editPlanningDate" style="color: #a0a0b0; font-size: 12px; margin: 0;"></p>
            </div>

            <form id="editPlanningStatusForm">
                <div class="form-group">
                    <label>Novo Status:</label>
                    <select id="planningStatusSelect" required style="font-size: 16px;">
                        <option value="">Selecione um status</option>
                        <option value="ativo">âœï¸ Em Andamento</option>
                        <option value="em_analise">ğŸ“‹ Em AnÃ¡lise</option>
                        <option value="concluido">âœ… ConcluÃ­do</option>
                        <option value="arquivado">ğŸ“¦ Arquivado</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ComentÃ¡rios (Opcional):</label>
                    <textarea id="planningStatusComment" placeholder="Adicione notas sobre este planejamento..." style="height: 120px;"></textarea>
                </div>
                <button type="submit" class="btn btn--primary">Atualizar Status</button>
            </form>
            <div id="editPlanningStatusError" class="message message--error"></div>
            <div id="editPlanningStatusSuccess" class="message message--success"></div>
        </div>
    </div>
</div>

<!-- MODAL EDITAR META -->
<div id="editMetaModal" class="modal hidden">
    <div class="modal__content">
        <header class="modal__header">
            <h2>Editar Meta - Registrar Economia</h2>
            <button onclick="uiService.closeModal('editMetaModal')" class="modal__close-btn">âœ•</button>
        </header>
        <div class="modal__body">
            <div id="metaEditInfo" style="background: rgba(100, 150, 255, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                <h4 id="metaEditName" style="color: #fff; margin-bottom: 10px;"></h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div>
                        <div style="color: #a0a0b0; font-size: 12px;">Meta NecessÃ¡ria</div>
                        <div id="metaEditGoal" style="color: #6495ff; font-size: 18px; font-weight: 700;">R$ 0,00</div>
                    </div>
                    <div>
                        <div style="color: #a0a0b0; font-size: 12px;">JÃ¡ Economizado</div>
                        <div id="metaEditCurrent" style="color: #64ff7a; font-size: 18px; font-weight: 700;">R$ 0,00</div>
                    </div>
                    <div>
                        <div style="color: #a0a0b0; font-size: 12px;">Faltam</div>
                        <div id="metaEditRemaining" style="color: #ff6464; font-size: 18px; font-weight: 700;">R$ 0,00</div>
                    </div>
                    <div>
                        <div style="color: #a0a0b0; font-size: 12px;">Progresso</div>
                        <div id="metaEditProgress" style="color: #ffd700; font-size: 18px; font-weight: 700;">0%</div>
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    <div style="background: rgba(100, 150, 255, 0.1); height: 8px; border-radius: 10px; overflow: hidden;">
                        <div id="metaEditProgressBar" style="background: linear-gradient(90deg, #6495ff, #4a7dff); height: 100%; width: 0%; transition: width 0.3s ease;"></div>
                    </div>
                </div>
            </div>

            <form id="editMetaForm">
                <div class="form-group">
                    <label>Adicionar Economia (R$):</label>
                    <input type="number" id="editMetaAddValue" placeholder="0,00" step="0.01" min="0" max="999999999.99 required>
                </div>
                <div class="form-group">
                    <label>Data:</label>
                    <input type="date" id="editMetaDate" required>
                </div>
                <div class="form-group">
                    <label>DescriÃ§Ã£o (Opcional):</label>
                    <input type="text" id="editMetaDescription" placeholder="Ex: Economia do mÃªs">
                </div>
                <button type="submit" class="btn btn--primary">Registrar Economia</button>
            </form>
            <div id="editMetaError" class="message message--error"></div>
            <div id="editMetaSuccess" class="message message--success"></div>
        </div>
    </div>
</div>

<!-- MODAL CRIAR/EDITAR PLANEJAMENTO -->
<div id="planningBuilderModal" class="modal hidden">
    <div class="modal__content" style="max-width: 1200px; max-height: 95vh; overflow-y: auto;">
        <header class="modal__header">
            <h2>ğŸ¯ Construtor de Planejamento Financeiro</h2>
            <button onclick="uiService.closeModal('planningBuilderModal')" class="modal__close-btn">âœ•</button>
        </header>
        <div class="modal__body">
            <div style="margin-bottom: 30px;">
                <h3 style="color: #fff; margin-bottom: 15px;">Cliente: <span id="planningClientName" style="color: #6495ff;"></span></h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>TÃ­tulo do Planejamento:</label>
                        <input type="text" id="planningBuilderTitle" placeholder="Ex: Planejamento Q1 2025" required>
                    </div>
                    <div class="form-group">
                        <label>PerÃ­odo (Meses):</label>
                        <input type="number" id="planningBuilderPeriod" placeholder="3" min="1" value="3" required>
                    </div>
                </div>

                <div style="background: rgba(100, 150, 255, 0.1); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <h4 style="color: #fff; margin-bottom: 15px;">ğŸ“Š AnÃ¡lise Financeira do Cliente</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div>
                            <div style="color: #a0a0b0; font-size: 12px;">Renda Ativa Mensal</div>
                            <div id="planningActiveIncome" style="color: #64ff7a; font-size: 18px; font-weight: 700;">R$ 0,00</div>
                        </div>
                        <div>
                            <div style="color: #a0a0b0; font-size: 12px;">Renda Passiva Mensal</div>
                            <div id="planningPassiveIncome" style="color: #6495ff; font-size: 18px; font-weight: 700;">R$ 0,00</div>
                        </div>
                        <div>
                            <div style="color: #a0a0b0; font-size: 12px;">Total Mensal</div>
                            <div id="planningTotalIncome" style="color: #ffd700; font-size: 18px; font-weight: 700;">R$ 0,00</div>
                        </div>
                        <div>
                            <div style="color: #a0a0b0; font-size: 12px;">Despesas Totais</div>
                            <div id="planningTotalExpense" style="color: #ff6464; font-size: 18px; font-weight: 700;">R$ 0,00</div>
                        </div>
                        <div>
                            <div style="color: #a0a0b0; font-size: 12px;">Saldo Mensal</div>
                            <div id="planningMonthlyBalance" style="color: #64ff7a; font-size: 18px; font-weight: 700;">R$ 0,00</div>
                        </div>
                        <div>
                            <div style="color: #a0a0b0; font-size: 12px;">Cobertura Passiva</div>
                            <div id="planningPassiveCoverage" style="color: #6495ff; font-size: 18px; font-weight: 700;">0%</div>
                        </div>
                    </div>
                </div>

                <div style="background: rgba(100, 255, 122, 0.1); padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid rgba(100, 255, 122, 0.3);">
                    <h4 style="color: #64ff7a; margin-bottom: 15px;">âœ… Metas e RecomendaÃ§Ãµes</h4>
                    <textarea id="planningRecommendations" placeholder="Digite as metas e recomendaÃ§Ãµes para o cliente..." style="width: 100%; height: 150px; background: rgba(100, 255, 122, 0.05); border: 1px solid rgba(100, 255, 122, 0.3); color: #e0e0e0; padding: 12px; border-radius: 8px; font-family: inherit;" required></textarea>
                </div>

                <div style="background: rgba(255, 215, 0, 0.1); padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid rgba(255, 215, 0, 0.3);">
                    <h4 style="color: #ffd700; margin-bottom: 15px;">ğŸ“ Detalhes do Planejamento</h4>
                    <textarea id="planningDetails" placeholder="Descreva detalhes importantes, aÃ§Ãµes necessÃ¡rias, etc..." style="width: 100%; height: 150px; background: rgba(255, 215, 0, 0.05); border: 1px solid rgba(255, 215, 0, 0.3); color: #e0e0e0; padding: 12px; border-radius: 8px; font-family: inherit;"></textarea>
                </div>

                <div style="display: flex; gap: 10px;">
                    <button type="button" class="btn btn--primary" style="flex: 1;" onclick="savePlanningForClient()">ğŸ’¾ Salvar e Enviar para Cliente</button>
                    <button type="button" class="btn btn--secondary" onclick="uiService.closeModal('planningBuilderModal')">Cancelar</button>
                </div>
            </div>
        </div>
    </div>
</div>

            <div id="addClientForm" class="card hidden">
                <h3>Novo Cliente</h3>
                <form id="clientForm">
                    <div class="form-row">
                        <div class="form-group"><label>Nome:</label><input type="text" id="clientName" placeholder="Nome do cliente" required></div>
                        <div class="form-group"><label>Email:</label><input type="email" id="clientEmail" placeholder="Email (opcional)"></div>
                    </div>
                    <button type="submit" class="btn btn--primary">Criar Cliente</button>
                </form>
                <div id="clientError" class="message message--error"></div>
                <div id="clientSuccess" class="message message--success"></div>
            </div>
            <div id="clientsList" class="clients-grid"><p class="empty-state">Nenhum cliente adicionado</p></div>
        </section>

        <!-- SEÃ‡ÃƒO METAS DOS CLIENTES -->
<section class="admin-section">
    <div class="section-header">
        <h2>ğŸ¯ Metas dos Clientes</h2>
        <button onclick="uiService.toggle('addAdminMetaForm')" class="btn btn--secondary">+ Adicionar Meta</button>
    </div>
    <div id="addAdminMetaForm" class="card hidden">
        <h3>Nova Meta para Cliente</h3>
        <form id="adminMetaForm">
            <div class="form-group">
                <label>Cliente:</label>
                <select id="adminMetaClientSelect" required><option value="">Selecione um cliente</option></select>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Nome da Meta:</label>
                    <input type="text" id="adminMetaName" placeholder="Ex: Comprar notebook" required>
                </div>
                <div class="form-group">
                    <label>Valor NecessÃ¡rio (R$):</label>
                    <input type="number" id="adminMetaValue" placeholder="0,00" step="0.01" min="0" max="999999999.99 required>
                </div>
            </div>
            <div class="form-group">
                <label>Prazo (meses):</label>
                <input type="number" id="adminMetaPrazo" placeholder="6" min="1" required>
            </div>
            <button type="submit" class="btn btn--primary">Criar Meta</button>
        </form>
        <div id="adminMetaError" class="message message--error"></div>
        <div id="adminMetaSuccess" class="message message--success"></div>
    </div>
    <div id="adminMetasList" class="metas-admin-grid">
        <p class="empty-state">Nenhuma meta criada</p>
    </div>
</section>

<!-- SEÃ‡ÃƒO PLANEJAMENTOS -->
<section class="admin-section">
    <div class="section-header">
        <h2>ğŸ“Š Planejamentos Personalizados</h2>
        <button onclick="uiService.toggle('addPlanningForm')" class="btn btn--secondary">+ Criar Planejamento</button>
    </div>
    <div id="addPlanningForm" class="card hidden">
        <h3>Novo Planejamento</h3>
        <form id="planningForm">
            <div class="form-group">
                <label>Cliente:</label>
                <select id="planningClientSelect" required><option value="">Selecione um cliente</option></select>
            </div>
            <div class="form-group">
                <label>TÃ­tulo do Planejamento:</label>
                <input type="text" id="planningTitle" placeholder="Ex: Planejamento Q1 2025" required>
            </div>
            <div class="form-group">
                <label>DescriÃ§Ã£o:</label>
                <textarea id="planningDescription" placeholder="Detalhes do planejamento" rows="4"></textarea>
            </div>
            <button type="submit" class="btn btn--primary">Criar Planejamento</button>
        </form>
        <div id="planningError" class="message message--error"></div>
        <div id="planningSuccess" class="message message--success"></div>
    </div>
    <div id="adminPlanningsList" class="planning-requests-grid">
        <p class="empty-state">Nenhum planejamento criado</p>
    </div>
</section>

<!-- SEÃ‡ÃƒO PLANEJAMENTOS SOLICITADOS -->
<section class="admin-section">
    <div class="section-header">
        <h2>ğŸ“‹ SolicitaÃ§Ãµes de Planejamento</h2>
    </div>
    <div class="card">
        <div id="adminPlanningRequestsList" class="planning-requests-grid">
            <p class="empty-state">Nenhuma solicitaÃ§Ã£o de planejamento</p>
        </div>
    </div>
</section>

        <!-- SEÃ‡ÃƒO RAZONETE (COLAPSÃVEL) -->
        <section class="admin-section">
            <div class="section-header">
                <h2>ğŸ’¸ Razonete Consolidado</h2>
            </div>
            <div class="card">
                <button class="btn-collapse" onclick="toggleCollapse('razoneteAdmin')">
                    <span>ğŸ“‚ Visualizar TransaÃ§Ãµes</span>
                    <span class="collapse-icon">â–¼</span>
                </button>
                <div id="razoneteAdmin" class="collapse-content hidden">
                    <div class="filters">
                        <div class="form-group"><label>Filtrar por Cliente:</label><select id="adminClientFilter"><option value="">Todos os clientes</option></select></div>
                        <div class="form-group"><label>Filtrar por Tipo:</label><select id="adminTypeFilter"><option value="">Todos</option><option value="receita">Receita</option><option value="despesa">Despesa</option></select></div>
                    </div>
                    <div id="adminTransactionsList" class="transactions-list"><p class="empty-state">Nenhuma transaÃ§Ã£o encontrada.</p></div>
                </div>
            </div>
        </section>
    </main>
</div>

<!-- ===== PAINEL CLIENTE ===== -->
<div id="clientScreen" class="screen">
    <header class="client-header">
        <div><h1>ğŸ‘‹ Bem-vindo, <span id="clientNameDisplay"></span></h1><p>Organize sua vida financeira de forma simples.</p></div>
    </header>
    <main class="client-container">
        
        <!-- RESUMO DO MÃŠS -->
        <section class="resume-section">
            <div class="card">
                <h3>ğŸ“Š Resumo do MÃªs</h3>
                <div class="resume-grid">
                    <div class="resume-item receita"><span class="label">Total Receitas</span><span class="value" id="totalReceitas">R$ 0,00</span></div>
                    <div class="resume-item despesa"><span class="label">Total Despesas</span><span class="value" id="totalDespesas">R$ 0,00</span></div>
                    <div class="resume-item saldo"><span class="label">Saldo</span><span class="value" id="saldo">R$ 0,00</span></div>
                </div>
            </div>
        </section>

        <!-- ADIÃ‡ÃƒO RÃPIDA -->
        <section class="card">
            <h3>â• AdiÃ§Ã£o RÃ¡pida</h3>
            <form id="transactionForm">
                <div class="form-group"><label>O que vocÃª registrou?</label><select id="transCategory" required><option value="">Carregando categorias...</option></select></div>
                <div class="form-row">
                    <div class="form-group"><label>Valor (R$):</label><input type="number" id="transValue" placeholder="0,00" step="0.01" min="0" max="999999999.99"required></div>
                    <div class="form-group"><label>Data:</label><input type="date" id="transDate" required></div>
                </div>
                <div class="form-group"><label>DescriÃ§Ã£o (Opcional):</label><input type="text" id="transDescription" placeholder="Ex: Jantar com amigos"></div>
                <button type="submit" class="btn btn--primary">Registrar</button>
            </form>
            <div id="transError" class="message message--error"></div>
            <div id="transSuccess" class="message message--success"></div>
        </section>

        <!-- PLANILHA DE CONTROLE FINANCEIRO -->
     <!-- PLANILHA DE CONTROLE FINANCEIRO -->
<!-- PLANEJAMENTO PESSOAL -->
<section class="card">
    <h3>ğŸ“ˆ Planejamento Pessoal</h3>
    <div style="padding: 20px; background: linear-gradient(135deg, rgba(100, 255, 122, 0.1) 0%, rgba(100, 150, 255, 0.1) 100%); border: 1px solid rgba(100, 150, 255, 0.3); border-radius: 8px;">
        <div style="text-align: center;">
            <p style="color: #a0a0b0; font-size: 13px; margin-bottom: 10px;">SALDO DO MÃŠS:</p>
            <h2 id="clientPlanningBalanceText" style="color: #64ff7a; font-size: 32px; font-weight: 800; margin-bottom: 20px;">R$ 0,00</h2>
            
            <p style="color: #a0a0b0; font-size: 13px; margin-bottom: 10px; margin-top: 20px;">SUA RESERVA DE EMERGÃŠNCIA IDEAL SERIA:</p>
            <h2 id="clientEmergencyFund" style="color: #64ff7a; font-size: 32px; font-weight: 800;">R$ 0,00</h2>
        </div>
    </div>
</section>

        <!-- METAS -->
        <section class="card">
            <h3>ğŸ¯ Minhas Metas</h3>
            <button onclick="uiService.toggle('addMetaForm')" class="btn btn--secondary">+ Adicionar Meta</button>
            <div id="addMetaForm" class="hidden" style="margin-top: 15px; padding: 15px; background: rgba(100, 150, 255, 0.1); border-radius: 8px;">
                <form id="metaForm">
                    <div class="form-group"><label>Nome da Meta:</label><input type="text" id="metaName" placeholder="Ex: Comprar notebook" required></div>
                    <div class="form-row">
                        <div class="form-group"><label>Valor NecessÃ¡rio (R$):</label><input type="number" id="metaValue" placeholder="0,00" step="0.01" min="0" max="999999999.99" required></div>
                        <div class="form-group"><label>Prazo (meses):</label><input type="number" id="metaPrazo" placeholder="6" min="1" required></div>
                    </div>
                    <button type="submit" class="btn btn--primary">Criar Meta</button>
                </form>
                <div id="metaError" class="message message--error"></div>
            </div>
            <div id="clientMetasList" class="metas-client-grid" style="margin-top: 20px;">
                <p class="empty-state">Nenhuma meta criada</p>
            </div>
        </section>

        <!-- PLANEJAMENTO PESSOAL -->
        <section class="card">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3>ğŸ“ˆ Planejamento Pessoal</h3>
                <button onclick="requestPersonalPlanning()" class="btn btn--secondary">ğŸ¤ Pedir Planejamento Personalizado</button>
            </div>
            <div id="clientPlanningStatus" style="margin-top: 15px; padding: 15px; background: rgba(100, 150, 255, 0.1); border-radius: 8px; text-align: center; color: #6b7c8f;">
                <p>Nenhum planejamento personalizado solicitado ainda.</p>
            </div>
        </section>

        <!-- HISTÃ“RICO DE TRANSAÃ‡Ã•ES -->
        <section class="card">
            <h3>ğŸ“‹ HistÃ³rico de TransaÃ§Ãµes</h3>
            <button class="btn-collapse" onclick="toggleCollapse('transactionHistory')">
                <span>ğŸ“‚ Visualizar HistÃ³rico</span>
                <span class="collapse-icon">â–¼</span>
            </button>
            <div id="transactionHistory" class="collapse-content hidden">
                <div id="transactionHistoryList" class="transactions-list"><p class="empty-state">Nenhuma transaÃ§Ã£o registrada</p></div>
            </div>
        </section>
    </main>
</div>


<!-- ===== MODAL DASHBOARD ===== -->
<div id="clientDashboardModal" class="modal hidden">
    <div class="modal__content" style="max-width: 1100px;">
        <header class="modal__header">
            <div><h2 id="dashClientName">Dashboard do Cliente</h2><p id="dashClientEmail" style="color: #6b7c8f; font-size: 14px;">email@example.com</p></div>
            <button onclick="uiService.closeModal('clientDashboardModal')" class="modal__close-btn">âœ•</button>
        </header>
        <div class="modal__body">
            <!-- CARDS DE RESUMO -->
            <div class="insights-grid">
                <div class="dashboard-card">
                    <div class="insight-label">ğŸ’¸ Custo de SobrevivÃªncia</div>
                    <div id="biSurvivalCost" class="insight-value" style="color: #ff6464;">R$ 0,00</div>
                </div>
                <div class="dashboard-card">
                    <div class="insight-label">ğŸ‘œ Custo de Estilo de Vida</div>
                    <div id="biLifestyleCost" class="insight-value" style="color: #ffd700;">R$ 0,00</div>
                </div>
                <div class="dashboard-card">
                    <div class="insight-label">ğŸŒ± Renda Passiva Gerada</div>
                    <div id="biPassiveIncome" class="insight-value" style="color: #64ff7a;">R$ 0,00</div>
                </div>
                <div class="dashboard-card">
                    <div class="insight-label">ğŸ›¡ï¸ Cobertura Passiva</div>
                    <div id="biPassiveCoverage" class="insight-value" style="color: #6495ff;">0%</div>
                    <div class="insight-sublabel">do Custo de SobrevivÃªncia</div>
                </div>
            </div>

            <!-- GRÃFICOS -->
            <div class="charts-grid">
                <div class="dashboard-card">
                    <h4>Essencial vs. Estilo de Vida</h4>
                    <canvas id="dashChartNecessity" style="max-height: 250px;"></canvas>
                </div>
                <div class="dashboard-card">
                    <h4>Top Categorias de Despesa</h4>
                    <canvas id="dashChartCategories" style="max-height: 250px;"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>



</div>
<script src="script.js"></script>
</body>
</html>